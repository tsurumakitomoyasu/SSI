$.fn.addClass_org=$.fn.addClass,$.fn.addClass=function(){return this.trigger("AddedClass",arguments),$.fn.addClass_org.apply(this,arguments)},$.fn.addedClass=function(className,callback){let _that=this,_callback=callback||function(){};this.on("AddedClass",function(){let _arguments=arguments;setTimeout(function(){_arguments[1]===className&&_that.hasClass(className)&&_callback()},0)})},setTimeout(function(){let countElm=$(".count"),countSpeed=10;countElm.each(function(){let self=$(this),countMax=self.attr("data-num"),thisCount=self.text(),countTimer;function timer(){countTimer=setInterval(function(){let countNext=thisCount++;self.text(countNext),countNext==countMax&&(clearInterval(countTimer),$(".loading").addClass("loadingOut"),$(".loadingimg").addClass("loadingOut"),backcnt>0&&($("#stage").addClass("plamouse"),$(".operationWrap").removeClass("operationin"),$(".operationWrap").addClass("operationout")))},countSpeed)}timer()})},700),setTimeout(function(){$("#stage").addClass("moveani")},1500),$(function(){$(".infoBtn img").hover(function(){$(this).attr("src",$(this).attr("src").replace("_off","_on"))},function(){$(this).hasClass("currentPage")||$(this).attr("src",$(this).attr("src").replace("_on","_off"))}),$(".userBtn").click(function(){$("#stage").hasClass("speechopen")||$(".userinfo").hasClass("userOut")&&($(".userinfo").removeClass("userOut"),$("#logout").removeClass("lognone"),$(".userinfo").addClass("userIn"),$("#logout").addClass("logblock"),$("#stage").addClass("useropen"))}),$("#userBack").click(function(){$(".userinfo").hasClass("userOut")||($(".userinfo").removeClass("userIn"),$("#logout").removeClass("logblock"),$("#stage").removeClass("useropen"),$(".userinfo").addClass("userOut"),$("#logout").addClass("lognone"))}),$("#opeBack").click(function(){$(".operationWrap").hasClass("operationout")||($("#stage").addClass("plamouse"),$(".operationWrap").removeClass("operationin"),$(".operationWrap").addClass("operationout"))}),$(".speechBtn").click(function(){$(".speechBtn").hasClass("speechout")||(recognition.start(),$("#stage").addClass("speechopen"),$(".speechBtn").addClass("speechout"),$(".micWrap").addClass("micIn"),$(".micWrap").removeClass("micOut"),$(".masc").removeClass("none"))}),$(".masc").click(function(){$(".masc").hasClass("none")||(recognition.stop(),$(".speechBtn").removeClass("speechout"),$("#stage").removeClass("speechopen"),$(".micWrap").removeClass("micIn"),$(".micWrap").addClass("micOut"),$(".masc").addClass("none"),clearTimeout(speechtime))}),$(".stopBtn").click(function(){$("#stage").hasClass("move")?($("#stage").removeClass("move"),$("#stage").removeClass("moveani")):$("#stage").hasClass("stop")?$("#stage").hasClass("stop")&&($("#stage").removeClass("stop"),$("#stage").addClass("move"),$("#stage").removeClass("stopani"),setTimeout(function(){$("#stage").addClass("moveani")},50)):$("#stage").hasClass("move")||($("#stage").addClass("stop"),setTimeout(function(){$("#stage").addClass("stopani")},50))}),$(".opeBtn").click(function(){$("#stage").hasClass("speechopen")||($("#stage").hasClass("plamouse")?($("#stage").removeClass("plamouse"),$(".operationWrap").removeClass("operationout"),$(".userinfo").removeClass("userIn"),$("#logout").removeClass("logblock"),$(".userinfo").addClass("userOut"),$(".operationWrap").addClass("operationin"),$("#logout").addClass("lognone")):$("#stage").hasClass("plamouse")||($(".operationWrap").removeClass("operationin"),$(".operationWrap").addClass("operationout"),$("#stage").addClass("plamouse")))}),$(".next").click(function(){$(".page1").hasClass("pagenone")?$(".page2").hasClass("pagenext")&&($(".page3").removeClass("pagenone"),$(".page2").removeClass("pagenext"),$(".page2").addClass("pageprev1"),$(".page2").addClass("pageprev"),$(".page2").addClass("pagenone"),$(".page3").addClass("pageNend"),$(".next").addClass("btnnone")):($(".page2").removeClass("pagenone"),$(".prev").removeClass("btnnone"),$(".footer").addClass("infooter"),$(".page1").addClass("pagenone"),$(".page2").addClass("pagenext"))}),$(".prev").click(function(){$(".page2").hasClass("pageprev")?$(".page2").hasClass("pageprev1")&&($(".page2").removeClass("pagenone"),$(".page2").removeClass("pageprev"),$(".next").removeClass("btnnone"),$(".page2").addClass("pagenext"),$(".page3").addClass("pagenone")):($(".page1").removeClass("pagenone"),$(".page2").removeClass("pagenext"),$(".page2").removeClass("pageprev1"),$(".page3").removeClass("pageNend"),$(".page3").removeClass("pagePend"),$(".page4").removeClass("pageNend"),$(".footer").removeClass("infooter"),$(".page2").addClass("pagenone"),$(".prev").addClass("btnnone"))})}),history.pushState(null,null,null),$(window).on("popstate",function(event){event.originalEvent.state||history.pushState(null,null,null)});let scene=new THREE.Scene,camera,light,ambient,gridHelper,axisHelper,lightHelper,renderer,loader,width=window.innerWidth,height=window.innerHeight,controls,targetSun=[],targetMercury=[],targetVenus=[],targetEarth=[],targetMars=[],targetJupiter=[],targetSaturn=[],targetUranus=[],targetNeptune=[],targetMoon=[],textureSun,textureMercury,textureVenus,textureEarth,textureCrowd,textureMars,textureJupiter,textureSaturn,textureSaturnRing,textureUranus,textureUranusRing,textureNeptune,textureUniverse,textureMoon,sun,mercury,venus,earth,crowd,mars,jupiter,saturn,saturnRing,uranus,uranusRing,neptune,universe,moon,sunX,sunZ,mercuryX,mercuryZ,venusX,venusZ,earthX,earthZ,marsX,marsZ,jupiterX,jupiterZ,saturnX,saturnZ,uranusX,uranusZ,neptuneX,neptuneZ,moonX,moonZ,mercuryTheta,venusTheta,earthTheta,marsTheta,jupiterTheta,saturnTheta,uranusTheta,neptuneTheta,moonTheta,sunimageText,mercuryimageText,venusimageText,earthimageText,moonimageText,marsimageText,jupiterimageText,saturnimageText,uranusimageText,neptuneimageText,sunText,mercuryText,venusText,earthText,moonText,marsText,jupiterText,saturnText,uranusText,neptuneText,targetTextSun=[],targetTextMercury=[],targetTextVenus=[],targetTextEarth=[],targetTextMoon=[],targetTextMars=[],targetTextJupiter=[],targetTextSaturn=[],targetTextUranus=[],targetTextNeptune=[],speechtime,manager,manifest=[{id:"sun",src:"../images/sun.jpg"},{id:"mercury",src:"../images/mercury.jpg"},{id:"venus",src:"../images/venus.jpg"},{id:"earth",src:"../images/earth.jpg"},{id:"crowd",src:"../images/crowd.png"},{id:"mars",src:"../images/mars.jpg"},{id:"jupiter",src:"../images/jupiter.jpg"},{id:"saturn",src:"../images/saturn.jpg"},{id:"saturn-ring",src:"../images/saturn-ring.jpg"},{id:"uranus",src:"../images/uranus.jpg"},{id:"uranus-ring",src:"../images/uranus-ring.jpg"},{id:"neptune",src:"../images/neptune.jpg"},{id:"universe",src:"../images/space.jpg"},{id:"moon",src:"../images/moon.jpg"}],loadQueue=new createjs.LoadQueue;function planetFactory(texture,radius,widthSegments,heightSegments,x,z,planetName){let sphere,sphereMercury,sphereVenus,sphereEarth,sphereMars,sphereJupiter,sphereSaturn,sphereUranus,sphereNeptune,ring;return"isSun"===planetName?(sphere=new THREE.Group,(sphere=new THREE.Mesh(new THREE.SphereGeometry(radius,widthSegments,heightSegments),new THREE.MeshBasicMaterial({map:texture,side:THREE.DoubleSide}))).add(sunText),targetSun.push(sphere),sphere.position.set(x,0,z)):"isMercury"===planetName?(sphere=new THREE.Group,sphereMercury=new THREE.Group,sphereMercury=new THREE.Mesh(new THREE.SphereGeometry(radius,widthSegments,heightSegments),new THREE.MeshLambertMaterial({map:texture})),sphere.add(sphereMercury),sphereMercury.add(mercuryText),targetMercury.push(sphereMercury),sphere.position.set(x,0,z)):"isVenus"===planetName?(sphere=new THREE.Group,sphereVenus=new THREE.Group,sphereVenus=new THREE.Mesh(new THREE.SphereGeometry(radius,widthSegments,heightSegments),new THREE.MeshLambertMaterial({map:texture})),sphere.add(sphereVenus),sphereVenus.add(venusText),targetVenus.push(sphereVenus),sphere.position.set(x,0,z)):"isEarth"===planetName?(sphere=new THREE.Group,sphereEarth=new THREE.Group,sphereEarth=new THREE.Mesh(new THREE.SphereGeometry(13,20,20),new THREE.MeshLambertMaterial({map:texture})),crowd=new THREE.Mesh(new THREE.SphereGeometry(14,20,20),new THREE.MeshLambertMaterial({map:textureCrowd,transparent:!0,side:THREE.DoubleSide})),sphereEarth.add(earthText),sphere.add(sphereEarth),sphere.add(crowd),targetEarth.push(sphereEarth),sphere.position.set(x,0,z)):"isMoon"===planetName?(sphere=new THREE.Group,(sphere=new THREE.Mesh(new THREE.SphereGeometry(radius,widthSegments,heightSegments),new THREE.MeshLambertMaterial({map:texture}))).add(moonText),targetMoon.push(sphere),sphere.position.set(x,0,z)):"isMars"===planetName?(sphere=new THREE.Group,sphereMars=new THREE.Group,(sphereMars=new THREE.Mesh(new THREE.SphereGeometry(radius,widthSegments,heightSegments),new THREE.MeshLambertMaterial({map:texture}))).add(marsText),sphere.add(sphereMars),targetMars.push(sphereMars),sphere.position.set(x,0,z)):"isJupiter"===planetName?(sphere=new THREE.Group,sphereJupiter=new THREE.Group,(sphereJupiter=new THREE.Mesh(new THREE.SphereGeometry(radius,widthSegments,heightSegments),new THREE.MeshLambertMaterial({map:texture}))).add(jupiterText),sphere.add(sphereJupiter),targetJupiter.push(sphereJupiter),sphere.position.set(x,0,z)):"isSaturn"===planetName?(sphere=new THREE.Group,sphereSaturn=new THREE.Group,sphereSaturn=new THREE.Mesh(new THREE.SphereGeometry(13,20,20),new THREE.MeshLambertMaterial({map:texture})),(ring=new THREE.Mesh(new THREE.TorusGeometry(22,5,2,1e3),new THREE.MeshPhongMaterial({map:texture,opacity:.7,transparent:!0}))).rotation.x=1.5,sphereSaturn.add(saturnText),sphere.add(sphereSaturn),sphere.add(ring),targetSaturn.push(sphereSaturn),sphere.position.set(x,0,z)):"isUranus"===planetName?(sphere=new THREE.Group,sphereUranus=new THREE.Group,sphereUranus=new THREE.Mesh(new THREE.SphereGeometry(13,20,20),new THREE.MeshLambertMaterial({map:texture})),(ring=new THREE.Mesh(new THREE.TorusGeometry(18,5,2,1e3),new THREE.MeshPhongMaterial({map:texture,opacity:.7,transparent:!0}))).rotation.x=1.5,sphereUranus.add(uranusText),sphere.add(sphereUranus),sphere.add(ring),targetUranus.push(sphereUranus),sphere.position.set(x,0,z)):"isNeptune"===planetName?(sphere=new THREE.Group,sphereNeptune=new THREE.Group,(sphereNeptune=new THREE.Mesh(new THREE.SphereGeometry(radius,widthSegments,heightSegments),new THREE.MeshLambertMaterial({map:texture}))).add(neptuneText),sphere.add(sphereNeptune),targetNeptune.push(sphereNeptune),sphere.position.set(x,0,z)):"isUniverse"===planetName&&(sphere=new THREE.Mesh(new THREE.SphereGeometry(radius,widthSegments,heightSegments),new THREE.MeshLambertMaterial({map:texture,side:THREE.DoubleSide}))).position.set(x,0,z),scene.add(sphere),sphere}function render(){requestAnimationFrame(render),sun.rotation.y+=.003,mercury.rotation.y+=.005,venus.rotation.y-=.005,earth.rotation.y+=.005,crowd.rotation.y+=.008,mars.rotation.y+=.002,jupiter.rotation.y+=.003,saturn.rotation.y+=.004,uranus.rotation.y+=.005,neptune.rotation.y+=.007,moon.rotation.y+=.007,$("#stage").hasClass("move")?(light.position.set(0,0,0),mercuryTheta-=.78,venusTheta-=.65,earthTheta-=.59,marsTheta-=.54,jupiterTheta-=.43,saturnTheta-=.4,uranusTheta-=.37,neptuneTheta-=.35,moonTheta-=1,sunX=0,sunZ=0,mercuryX=80,mercuryZ=80,venusX=120,venusZ=120,earthX=170,earthZ=170,marsX=230,marsZ=230,jupiterX=280,jupiterZ=280,saturnX=355,saturnZ=355,uranusX=415,uranusZ=415,neptuneX=475,neptuneZ=475,moonX=25,moonZ=25,$("#stage").hasClass("moveani")||(mercuryTheta=10,venusTheta=500,earthTheta=0,marsTheta=100,jupiterTheta=160,saturnTheta=80,uranusTheta=200,neptuneTheta=330,moonTheta=0,camera.position.set(400,400,700))):$("#stage").hasClass("stop")&&(light.position.set(sunX,0,0),mercuryTheta=0,venusTheta=0,earthTheta=0,marsTheta=0,jupiterTheta=0,saturnTheta=0,uranusTheta=0,neptuneTheta=0,moonTheta=0,sunX=-230,sunZ=-230,mercuryX=-150,mercuryZ=-150,venusX=-110,venusZ=-110,earthX=-60,earthZ=-60,marsX=0,marsZ=0,jupiterX=60,jupiterZ=60,saturnX=140,saturnZ=140,uranusX=200,uranusZ=200,neptuneX=260,neptuneZ=260,moonX=25,moonZ=25,$("#stage").hasClass("stopani")||camera.position.set(0,0,300)),sun.position.x=Math.cos(THREE.Math.degToRad(mercuryTheta))*sunX,sun.position.z=Math.sin(THREE.Math.degToRad(mercuryTheta))*sunZ,mercury.position.x=Math.cos(THREE.Math.degToRad(mercuryTheta))*mercuryX,mercury.position.z=Math.sin(THREE.Math.degToRad(mercuryTheta))*mercuryZ,venus.position.x=Math.cos(THREE.Math.degToRad(venusTheta))*venusX,venus.position.z=Math.sin(THREE.Math.degToRad(venusTheta))*venusZ,earth.position.x=Math.cos(THREE.Math.degToRad(earthTheta))*earthX,earth.position.z=Math.sin(THREE.Math.degToRad(earthTheta))*earthZ,mars.position.x=Math.cos(THREE.Math.degToRad(marsTheta))*marsX,mars.position.z=Math.sin(THREE.Math.degToRad(marsTheta))*marsZ,jupiter.position.x=Math.cos(THREE.Math.degToRad(jupiterTheta))*jupiterX,jupiter.position.z=Math.sin(THREE.Math.degToRad(jupiterTheta))*jupiterZ,saturn.position.x=Math.cos(THREE.Math.degToRad(saturnTheta))*saturnX,saturn.position.z=Math.sin(THREE.Math.degToRad(saturnTheta))*saturnZ,uranus.position.x=Math.cos(THREE.Math.degToRad(uranusTheta))*uranusX,uranus.position.z=Math.sin(THREE.Math.degToRad(uranusTheta))*uranusZ,neptune.position.x=Math.cos(THREE.Math.degToRad(neptuneTheta))*neptuneX,neptune.position.z=Math.sin(THREE.Math.degToRad(neptuneTheta))*neptuneZ,moon.position.x=Math.cos(THREE.Math.degToRad(moonTheta))*moonX+earth.position.x,moon.position.z=Math.sin(THREE.Math.degToRad(moonTheta))*moonZ+earth.position.z,controls.update(),renderer.render(scene,camera)}loadQueue.on("complete",function(){let sunImg=loadQueue.getResult("sun"),mercuryImg=loadQueue.getResult("mercury"),venusImg=loadQueue.getResult("venus"),earthImg=loadQueue.getResult("earth"),crowdImg=loadQueue.getResult("crowd"),marsImg=loadQueue.getResult("mars"),jupiterImg=loadQueue.getResult("jupiter"),saturnImg=loadQueue.getResult("saturn"),saturnRingImg=loadQueue.getResult("saturn-ring"),uranusImg=loadQueue.getResult("uranus"),uranusRingImg=loadQueue.getResult("uranus-ring"),neptuneImg=loadQueue.getResult("neptune"),universeImg=loadQueue.getResult("universe"),moonImg=loadQueue.getResult("moon");textureSun=new THREE.Texture(sunImg),textureMercury=new THREE.Texture(mercuryImg),textureVenus=new THREE.Texture(venusImg),textureEarth=new THREE.Texture(earthImg),textureCrowd=new THREE.Texture(crowdImg),textureMars=new THREE.Texture(marsImg),textureJupiter=new THREE.Texture(jupiterImg),textureSaturn=new THREE.Texture(saturnImg),textureSaturnRing=new THREE.Texture(saturnRingImg),textureUranus=new THREE.Texture(uranusImg),textureUranusRing=new THREE.Texture(uranusRingImg),textureNeptune=new THREE.Texture(neptuneImg),textureUniverse=new THREE.Texture(universeImg),textureMoon=new THREE.Texture(moonImg),textureSun.needsUpdate=!0,textureMercury.needsUpdate=!0,textureVenus.needsUpdate=!0,textureEarth.needsUpdate=!0,textureCrowd.needsUpdate=!0,textureMars.needsUpdate=!0,textureJupiter.needsUpdate=!0,textureSaturn.needsUpdate=!0,textureSaturnRing.needsUpdate=!0,textureUranus.needsUpdate=!0,textureUranusRing.needsUpdate=!0,textureNeptune.needsUpdate=!0,textureUniverse.needsUpdate=!0,textureMoon.needsUpdate=!0,sun=planetFactory(textureSun,50,40,40,sunX,sunZ,"isSun"),mercury=planetFactory(textureMercury,5,20,20,mercuryX,mercuryZ,"isMercury"),venus=planetFactory(textureVenus,10,20,20,venusX,venusZ,"isVenus"),earth=planetFactory(textureEarth,13,20,20,earthX,earthZ,"isEarth"),mars=planetFactory(textureMars,7,20,20,marsX,marsZ,"isMars"),jupiter=planetFactory(textureJupiter,40,30,30,jupiterX,jupiterZ,"isJupiter"),saturn=planetFactory(textureSaturn,18,20,20,saturnX,saturnZ,"isSaturn"),uranus=planetFactory(textureUranus,20,20,20,uranusX,uranusZ,"isUranus"),neptune=planetFactory(textureNeptune,17,20,20,neptuneX,neptuneZ,"isNeptune"),universe=planetFactory(textureUniverse,1e4,20,20,0,0,"isUniverse"),moon=planetFactory(textureMoon,5,20,20,0,0,"isMoon"),render()}),loadQueue.loadManifest(manifest),light=new THREE.PointLight(16777215,3,0),scene.add(light),ambient=new THREE.AmbientLight(2236962),scene.add(ambient),camera=new THREE.PerspectiveCamera(60,width/height,1,1e6),(controls=new THREE.OrbitControls(camera)).minDistance=350,controls.maxDistance=700,controls.enableDamping=!0,controls.enableKeys=!1,controls.enablePan=!1,controls.dampingFactor=.1,(renderer=new THREE.WebGLRenderer({canvas:document.querySelector("#stage")})).setSize(width,height);class text{constructor(textimg){this.testimg=new THREE.SpriteMaterial({map:(new THREE.TextureLoader).load(textimg)})}get TextImg(){return this.testimg}}function clickPosition(event){let x=event.clientX,y=event.clientY,mouse=new THREE.Vector2;mouse.x=x/window.innerWidth*2-1,mouse.y=-y/window.innerHeight*2+1;let raycaster=new THREE.Raycaster;$("#stage").hasClass("plamouse")&&($("#stage").hasClass("useropen")||$("#stage").hasClass("speechopen")||raycaster.setFromCamera(mouse,camera));let interSu=raycaster.intersectObjects(targetSun),interMe=raycaster.intersectObjects(targetMercury),interVe=raycaster.intersectObjects(targetVenus),interEa=raycaster.intersectObjects(targetEarth),interMa=raycaster.intersectObjects(targetMars),interJu=raycaster.intersectObjects(targetJupiter),interSa=raycaster.intersectObjects(targetSaturn),interUr=raycaster.intersectObjects(targetUranus),interNe=raycaster.intersectObjects(targetNeptune),interMo=raycaster.intersectObjects(targetMoon),interTSU=raycaster.intersectObjects(targetTextSun),interTME=raycaster.intersectObjects(targetTextMercury),interTV=raycaster.intersectObjects(targetTextVenus),interTE=raycaster.intersectObjects(targetTextEarth),interTMO=raycaster.intersectObjects(targetTextMoon),interTMA=raycaster.intersectObjects(targetTextMars),interTJ=raycaster.intersectObjects(targetTextJupiter),interTSA=raycaster.intersectObjects(targetTextSaturn),interTU=raycaster.intersectObjects(targetTextUranus),interTN=raycaster.intersectObjects(targetTextNeptune);interSu.length>0||interTSU.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/sun.html"},410)):interMe.length>0||interTME.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/mercury.html"},410)):interVe.length>0||interTV.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/venus.html"},410)):interEa.length>0||interTE.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../php/earth.php"},410)):interMa.length>0||interTMA.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/mars.html"},410)):interJu.length>0||interTJ.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/jupiter.html"},410)):interSa.length>0||interTSA.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/saturn.html"},410)):interUr.length>0||interTU.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/uranus.html"},410)):interNe.length>0||interTN.length>0?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/neptune.html"},410)):(interMo.length>0||interTMO.length>0)&&($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/moon.html"},410))}sunimageText=new text("../images/suntext.png"),(sunText=new THREE.Sprite(sunimageText.TextImg)).position.y=64,sunText.scale.set(50,35,50),targetTextSun.push(sunText),mercuryimageText=new text("../images/mercurytext.png"),(mercuryText=new THREE.Sprite(mercuryimageText.TextImg)).position.y=15,mercuryText.scale.set(40,27,40),targetTextMercury.push(mercuryText),venusimageText=new text("../images/venustext.png"),(venusText=new THREE.Sprite(venusimageText.TextImg)).position.y=20,venusText.scale.set(40,27,40),targetTextVenus.push(venusText),earthimageText=new text("../images/earthtext.png"),(earthText=new THREE.Sprite(earthimageText.TextImg)).position.y=25,earthText.scale.set(40,27,40),targetTextEarth.push(earthText),moonimageText=new text("../images/moontext.png"),(moonText=new THREE.Sprite(moonimageText.TextImg)).position.y=16,moonText.scale.set(17,17,17),targetTextMoon.push(moonText),marsimageText=new text("../images/marstext.png"),(marsText=new THREE.Sprite(marsimageText.TextImg)).position.y=19,marsText.scale.set(40,27,40),targetTextMars.push(marsText),jupiterimageText=new text("../images/jupitertext.png"),(jupiterText=new THREE.Sprite(jupiterimageText.TextImg)).position.y=53,jupiterText.scale.set(40,27,40),targetTextJupiter.push(jupiterText),saturnimageText=new text("../images/saturntext.png"),(saturnText=new THREE.Sprite(saturnimageText.TextImg)).position.y=25,saturnText.scale.set(40,27,40),targetTextSaturn.push(saturnText),uranusimageText=new text("../images/uranustext.png"),(uranusText=new THREE.Sprite(uranusimageText.TextImg)).position.y=25,uranusText.scale.set(50,20,40),targetTextUranus.push(uranusText),neptuneimageText=new text("../images/neptunetext.png"),(neptuneText=new THREE.Sprite(neptuneimageText.TextImg)).position.y=27,neptuneText.scale.set(50,20,40),targetTextNeptune.push(neptuneText),document.addEventListener("mousedown",clickPosition,!1);let recognition=new webkitSpeechRecognition;function Keydown(event){let keyCode=event.keyCode;70==keyCode&&($("#stage").hasClass("speechopen")||($("#stage").hasClass("plamouse")?($("#stage").removeClass("plamouse"),$(".operationWrap").removeClass("operationout"),$(".userinfo").removeClass("userIn"),$("#logout").removeClass("logblock"),$(".userinfo").addClass("userOut"),$(".operationWrap").addClass("operationin"),$("#logout").addClass("lognone")):$("#stage").hasClass("plamouse")||($(".operationWrap").removeClass("operationin"),$(".operationWrap").addClass("operationout"),$("#stage").removeClass("useropen"),$("#stage").addClass("plamouse")))),$("#stage").hasClass("plamouse")||(37==keyCode?$(".page2").hasClass("pageprev")?$(".page2").hasClass("pageprev1")&&($(".page2").removeClass("pagenone"),$(".page2").removeClass("pageprev"),$(".next").removeClass("btnnone"),$(".page2").addClass("pagenext"),$(".page3").addClass("pagenone")):($(".page1").removeClass("pagenone"),$(".page2").removeClass("pagenext"),$(".page2").removeClass("pageprev1"),$(".page3").removeClass("pageNend"),$(".page3").removeClass("pagePend"),$(".page4").removeClass("pageNend"),$(".footer").removeClass("infooter"),$(".page2").addClass("pagenone"),$(".prev").addClass("btnnone")):39==keyCode&&($(".page1").hasClass("pagenone")?$(".page2").hasClass("pagenext")&&($(".page3").removeClass("pagenone"),$(".page2").removeClass("pagenext"),$(".page2").addClass("pageprev1"),$(".page2").addClass("pageprev"),$(".page2").addClass("pagenone"),$(".page3").addClass("pageNend"),$(".next").addClass("btnnone")):($(".page2").removeClass("pagenone"),$(".prev").removeClass("btnnone"),$(".page1").addClass("pagenone"),$(".page2").addClass("pagenext"),$(".footer").addClass("infooter")))),$("#stage").hasClass("plamouse")&&(49==keyCode||97==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/sun.html"},410)):50==keyCode||98==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/mercury.html"},410)):51==keyCode||99==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/venus.html"},410)):52==keyCode||100==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../php/earth.php"},410)):53==keyCode||101==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/moon.html"},410)):54==keyCode||102==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/mars.html"},410)):55==keyCode||103==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/jupiter.html"},410)):56==keyCode||104==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/saturn.html"},410)):57==keyCode||105==keyCode?($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/uranus.html"},410)):48!=keyCode&&96!=keyCode||($(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/neptune.html"},410)),68==keyCode&&($("#stage").hasClass("useropen")||($(".speechBtn").hasClass("speechout")?(recognition.stop(),$(".speechBtn").removeClass("speechout"),$("#stage").removeClass("speechopen"),$(".micWrap").removeClass("micIn"),$(".micWrap").addClass("micOut"),$(".masc").addClass("none"),clearTimeout(speechtime)):(recognition.start(),$("#stage").addClass("speechopen"),$(".speechBtn").addClass("speechout"),$(".micWrap").addClass("micIn"),$(".micWrap").removeClass("micOut"),$(".masc").removeClass("none")))),65==keyCode&&($("#stage").hasClass("speechopen")||($(".userinfo").hasClass("userOut")?($(".userinfo").removeClass("userOut"),$("#logout").removeClass("lognone"),$(".userinfo").addClass("userIn"),$("#logout").addClass("logblock"),$("#stage").addClass("useropen")):($("#logout").removeClass("logblock"),$(".userinfo").removeClass("userIn"),$("#stage").removeClass("useropen"),$(".userinfo").addClass("userOut"),$("#logout").addClass("lognone")))),83==keyCode&&($("#stage").hasClass("move")?($("#stage").removeClass("move"),$("#stage").removeClass("moveani")):$("#stage").hasClass("stop")?$("#stage").hasClass("stop")&&($("#stage").removeClass("stop"),$("#stage").addClass("move"),$("#stage").removeClass("stopani"),setTimeout(function(){$("#stage").addClass("moveani")},50)):$("#stage").hasClass("move")||($("#stage").addClass("stop"),setTimeout(function(){$("#stage").addClass("stopani")},50))))}recognition.lang="ja-JP",recognition.addEventListener("result",function(e){let speechtext;switch(e.results[0][0].transcript){case"太陽":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/sun.html"},410);break;case"彗星":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/mercury.html"},410);break;case"きんせい":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/venus.html"},410);break;case"地球":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../php/earth.php"},410);break;case"月":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/moon.html"},410);break;case"火星":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/mars.html"},410);break;case"木星":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/jupiter.html"},410);break;case"土星":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/saturn.html"},410);break;case"天王星":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/uranus.html"},410);break;case"海王星":$(".inbg").removeClass("none"),$(".inbg1").addClass("inbgani1"),setTimeout(function(){$(".inbg2").addClass("inbgani2"),setTimeout(function(){$(".inbg3").addClass("inbgani3"),setTimeout(function(){$(".inbg4").addClass("inbgani4")},100)},100)},100),setTimeout(function(){location.href="../html/neptune.html"},410);break;default:$(".speechBtn").removeClass("speechout"),$("#stage").removeClass("speechopen"),$(".micWrap").removeClass("micIn"),$(".micWrap").addClass("micOut"),$(".masc").addClass("none"),clearTimeout(speechtime)}}),window.addEventListener("keydown",Keydown),$(".micWrap").addedClass("micIn",function(){$(".micWrap").hasClass("micIn")&&(speechtime=setTimeout(function(){$(".speechBtn").removeClass("speechout"),$("#stage").removeClass("speechopen"),$(".micWrap").removeClass("micIn"),$(".micWrap").addClass("micOut"),$(".masc").addClass("none")},9250))});let timerID=setInterval("clock()",500);function clock(){document.getElementById("time").innerHTML=getNow(),document.getElementById("today").innerHTML=getToday()}function getNow(){let now=new Date,hour=now.getHours(),min=now.getMinutes(),totime;return hour<10&&(hour="0"+hour),min<10&&(min="0"+min),hour+"："+min}function getToday(){let now=new Date,mon=now.getMonth()+1,day=now.getDate(),today;return mon<10&&(mon="0"+mon),day<10&&(day="0"+day),mon+"/"+day}manager=new AudioManager({useMicrophone:!0,onEnterFrame:function(){let volume,size=92+Utils.sum(this.analysers.mic.getByteFrequencyData())/2e3,adj=(80-size)/2-3;$(".volume-viewer-volume").css("height",size+"px").css("width",size+"px").css("top",adj+"px").css("left",adj+"px")}}).init();