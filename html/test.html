<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="../css/operation.css">
  <style>
    .btn {
      color: #fff;
      font-size: 20vw;
      position: absolute;
      z-index: 30;
      bottom: 25vh;
      outline: none;
    }

    .prev {
      left: 8vw;
    }

    .next {
      right: 8vw;
    }

    .btnnone,
    .pagenone {
      display: none;
    }

    .list {
      margin: 0 auto;
      width: 50%;
    }

    .list img {
      padding: .3vw;
      width: 9%;
      border: solid .1vw #0ff;
    }

    .list ul {
      margin-top: 21vh;
      list-style-type: none;
    }

    .list li {
      margin: 2.5vw 0;
      color: #fff;
      font-size: 2vw;
      letter-spacing: .2em;
    }

    #sample img {
      margin-bottom: 1vh;
      padding: 0;
      width: 24vw;
      border: none;
      border-radius: 2vw;
    }

    #sample p {
      color: #fff;
      font-size: 2vw;
    }

    #sample span {
      color: #f00;
    }

    .page4 {
      margin: 0 auto;
      margin-top: 17.3vw;
      width: 20vw;
    }

    .page4 a {
      padding: .5vw;
      display: block;
      text-align: center;
      border-radius: 1.5vw;
      color: #000;
      font-weight: bold;
      background: #0ff;
      font-size: 3vw;
      text-decoration: none;
    }

    @keyframes move-twink-back {
      from {
        background-position: 0 0;
      }

      to {
        background-position: -10000px 5000px;
      }
    }

    @keyframes move-clouds-back {
      from {
        background-position: 0 0;
      }

      to {
        background-position: 10000px 0;
      }
    }

    .stars,
    .twinkling,
    .clouds {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
      display: block;
    }

    .stars {
      background: #000 url(../images/stars.png) repeat top center;
      z-index: 0;
    }

    .twinkling {
      background: transparent url(../images/twinkling.png) repeat top center;
      z-index: 1;
      animation: move-twink-back 200s linear infinite;
    }

    .clouds {
      background: transparent url(../images/clouds.png) repeat top center;
      z-index: 3;
      animation: move-clouds-back 200s linear infinite;
    }

    header,
    #main {
      position: relative;
      z-index: 30;
    }
  </style>
</head>

<body>
  <div class="stars"></div>
  <div class="twinkling"></div>
  <div class="clouds"></div>
  <header>
    <h1>操作説明</h1>
  </header>
  <main id="main">
    <!-- 1ページ -->
    <div class="page1">
      <div class="operation">
        <img src="../images/operation_one.png" alt="クリック画像">
        <div class="text">
          <p>①知りたい惑星をクリック</p>
        </div>
      </div>
      <p class="arrow">&rarr;</p>
      <div class="operation">
        <img src="../images/operation_twe.png" alt="勉強例">
        <div class="text">
          <p>②勉強！</p>
        </div>
      </div>
      <div class="clear"></div>
    </div>

    <!-- 2ページ目 -->
    <div class="page2 pagenone">
      <div class="list">
        <ul>
          <li><img src="../images/user_off.png" alt="ユーザーボタン">：ログイン時間、ログアウトなどが出来る。Aキーでも可能。</li>
          <li><img src="../images/stop_off.png" alt="ストップボタン">：惑星が動いている状態、止めている状態に切り替え可能。Sキー可能。</li>
        </ul>
      </div>
    </div>

    <!-- 3ページ目 -->
    <div class="page3 pagenone">
      <div class="list">
        <ul>
          <li><img src="../images/speech_off.png" alt="音声認識ボタン">：音声入力可能。Dキーでも可能。</li>
        </ul>
        <div id="sample">
          <p><img src="../images/speechsample.png" alt="サンプル画像"><br>タブの<span>赤丸</span>が音声入力中の目印</p>
        </div>
      </div>
    </div>

    <!-- 4ページ目 -->
    <div class="page4 pagenone">
      <a href="./ssi.php">スタート</a>
    </div>
  </main>

  <!-- prev -->
  <button class="btn prev btnnone">&lsaquo;</button>
  <!-- next -->
  <button class="btn next">&rsaquo;</button>
  <script src="../js/jquery-3.3.1.min.js"></script>
  <script>
    history.pushState(null, null, null);
    $(window).on('popstate', function (event) {
      if (!event.originalEvent.state) {
        history.pushState(null, null, null);
        return;
      }
    });

    // next
    $(function () {
      $('.next').click(function () {
        if (!$('.page1').hasClass('pagenone')) {
          // 2ページ目
          $('.page1').addClass('pagenone');
          $('.page2').addClass('pagenext');
          $('.page2').removeClass('pagenone');
          $('.prev').removeClass('btnnone');
        } else if ($('.page2').hasClass('pagenext')) {
          // 3ページ目
          $('.page3').removeClass('pagenone');
          $('.page2').removeClass('pagenext');
          $('.page2').addClass('pageprev1');
          $('.page2').addClass('pageprev');
          $('.page2').addClass('pagenone');
          $('.page3').addClass('pageNend');
        } else if ($('.page3').hasClass('pageNend')) {
          // 4ページ目
          $('.page2').removeClass('pageprev1');
          $('.page3').removeClass('pageNend');
          $('.page4').removeClass('pagenone');
          $('.page4').removeClass('pageNend');
          $('.page3').addClass('pagenone');
          $('.page3').addClass('pagePend');
          $('.next').addClass('btnnone');
        }
      });
    });

    // prev
    $(function () {
      $('.prev').click(function () {
        if (!$('.page2').hasClass('pageprev')) {
          // 2ページ目
          $('.page1').removeClass('pagenone');
          $('.page2').removeClass('pagenext');
          $('.page2').removeClass('pageprev1');
          $('.page3').removeClass('pageNend');
          $('.page3').removeClass('pagePend');
          $('.page4').removeClass('pageNend');
          $('.page2').addClass('pagenone');
          $('.prev').addClass('btnnone');
        } else if ($('.page2').hasClass('pageprev1')) {
          // 3ページ目
          $('.page2').removeClass('pagenone');
          $('.page2').removeClass('pageprev');
          $('.page2').addClass('pagenext');
          $('.page3').addClass('pagenone');
        } else if ($('.page3').hasClass('pagePend')) {
          // 4ページ目
          $('.page2').addClass('pageprev1');
          $('.page2').addClass('pageprev');
          $('.page3').addClass('pageNend');
          $('.page4').addClass('pagenone');
          $('.page4').addClass('pageNend');
          $('.page3').removeClass('pagenone');
          $('.paeg3').removeClass('pagePend');
          $('.next').removeClass('btnnone');
        }
      });
    });

    // keycode
    window.addEventListener('keydown', Keydown);

    function Keydown(e) {
      let keycode = e.keyCode;
      if (keycode == 37) {
        // 左
        if (!$('.page2').hasClass('pageprev')) {
          // 2ページ目
          $('.page1').removeClass('pagenone');
          $('.page2').removeClass('pagenext');
          $('.page2').removeClass('pageprev1');
          $('.page3').removeClass('pageNend');
          $('.page3').removeClass('pagePend');
          $('.page4').removeClass('pageNend');
          $('.page2').addClass('pagenone');
          $('.prev').addClass('btnnone');
        } else if ($('.page2').hasClass('pageprev1')) {
          // 3ページ目
          $('.page2').removeClass('pagenone');
          $('.page2').removeClass('pageprev');
          $('.page2').addClass('pagenext');
          $('.page3').addClass('pagenone');
        } else if ($('.page3').hasClass('pagePend')) {
          // 4ページ目
          $('.page2').addClass('pageprev1');
          $('.page2').addClass('pageprev');
          $('.page3').addClass('pageNend');
          $('.page4').addClass('pagenone');
          $('.page4').addClass('pageNend');
          $('.page3').removeClass('pagenone');
          $('.paeg3').removeClass('pagePend');
          $('.next').removeClass('btnnone');
        }
      } else if (keycode == 39) {
        // 右
        if (!$('.page1').hasClass('pagenone')) {
          // 2ページ目
          $('.page1').addClass('pagenone');
          $('.page2').addClass('pagenext');
          $('.page2').removeClass('pagenone');
          $('.prev').removeClass('btnnone');
        } else if ($('.page2').hasClass('pagenext')) {
          // 3ページ目
          $('.page3').removeClass('pagenone');
          $('.page2').removeClass('pagenext');
          $('.page2').addClass('pageprev1');
          $('.page2').addClass('pageprev');
          $('.page2').addClass('pagenone');
          $('.page3').addClass('pageNend');
        } else if ($('.page3').hasClass('pageNend')) {
          // 4ページ目
          $('.page2').removeClass('pageprev1');
          $('.page3').removeClass('pageNend');
          $('.page4').removeClass('pagenone');
          $('.page4').removeClass('pageNend');
          $('.page3').addClass('pagenone');
          $('.page3').addClass('pagePend');
          $('.next').addClass('btnnone');
        }
      }
    };
  </script>
</body>

</html>
